= Add a Dedicated VPC Peering Connection
:description: Use the Redpanda Cloud UI to set up VPC peering.

A VPC peering connection is a networking connection between two VPCs. This connection allows the VPCs to communicate with each other as if they were within the same network. A route table routes traffic between the two VPCs using private IPv4 addresses.

NOTE: Traffic is _not_ routed over the public internet.

When you select a network for deploying your Redpanda Dedicated cluster, you have the option to select a private connection with VPC peering. The VPC peering connection connects your VPC to the Redpanda Cloud VPC.

== Prerequisites

* *VPC network*:Before setting up a peering connection in the Redpanda Cloud UI, you must have a VPC in your own account for Redpanda's VPC to connect to. 
* *Matching region*: VPC peering connections can only be established between networks created in the *same region*. Redpanda Cloud does not support inter-region VPC peering connections.
* *Non-overlapping CIDR blocks*: The CIDR block for your VPC network cannot match or overlap with the CIDR block for the Redpanda Cloud VPC.

TIP: Consider adding `rp` at the beginning of the VPC name to indicate that this VPC is for deploying a Redpanda cluster.

== Create a peering connection

A peering becomes active after both Redpanda and GCP create a peering that targets the other project/network.

. In the Redpanda Cloud UI, go to the *Overview* page for your cluster.
. In the Details section, click the name of the Redpanda network.
. On the Networks page for your cluster, click *VPC peering walkthrough*.
. For *Connection name*, enter a name for the connection.
+
For example, the name might refer to the VPC ID of the VPC you created in GCP.

. For *GCP project ID*, enter the ID of the project that contains the VPC network you want to connect to.
. For *VPC network name*, enter the name of the VPC network.
. Click *Create peering connection*.

== Create the reciprocal peering connection

. In the Google Cloud console, go to VPC network peering - Create peering connection.
. For *Name*, enter a name for the connection (for example, `rp-peering`).
. Select your VPC network, project, and VPC network name.
. Click *Create*.

== Switch from VPC peering to Private Service Connect

VPC peering and Private Service Connect use the same DNS hostnames (connection URLs) to connect to the Redpanda cluster. When you configure the Private Service Connect DNS, those hostnames resolve to Private Service Connect endpoints, which can interrupt existing VPC peering-based connections if clients aren't ready.

To enable Private Service Connect without disrupting VPC peering connections, do a controlled DNS switchover:

. Enable Private Service Connect on the existing cluster and deploy consumer-side resources, but *do not create private DNS yet*. See: xref:networking:dedicated/gcp/configure-psc-in-api.adoc#enable-private-service-connect-on-an-existing-cluster[Enable Private Service Connect on an existing cluster].
. During a planned window, create the private DNS zone and records in your VPC to switch the shared hostnames over to Private Service Connect.