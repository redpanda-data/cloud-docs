Your organization might require custom resource labels and network tags for cost allocation, audit compliance, or governance policies. After cluster creation, you can manage this with the xref:manage:api/cloud-byoc-controlplane-api.adoc[Cloud Control Plane API]. The Control Plane API allows up to 16 custom resource labels and network tags in GCP.

Make sure you have:

* The cluster ID. You can find this in the Redpanda Cloud UI, in the **Details** section of the cluster overview.
* A valid bearer token for the Cloud Control Plane API. For details, see link:/api/doc/cloud-controlplane/authentication[Authenticate to the API]. 

include::shared:partial$feature-flag.adoc[]

. To refresh agent permissions so the Redpanda agent can update labels and network tags, run:
+
[,bash]
----
export CLUSTER_ID="<cluster-id>"
export PROJECT_ID="<gcp-project-id>"

rpk cloud byoc gcp apply --redpanda-id="$CLUSTER_ID" --project-id="$PROJECT_ID"
----
+
This step is required because label/tag management requires additional IAM permissions that may not have been granted during initial cluster creation:
+
* `compute.disks.get`
* `compute.disks.list`
* `compute.disks.setLabels`
* `compute.instances.setLabels`

. To update labels and network tags, invoke the Cloud API.
+
First, set your authentication token:
+
[,bash]
----
export AUTH_TOKEN="<your-bearer-token>"
----
+
The `PATCH` call sets the labels and network tags specified under `"cloud_provider_tags"`. It replaces the existing labels and tags with the specified labels and tags. Include all desired labels and tags in the request. To remove a single entry, omit it from the map you send.
+
[,bash]
----
cluster_patch_body=$(cat <<'JSON'
{
  "cloud_provider_tags": {
    "environment": "production",
    "cost-center": "engineering",
    "gcp.network-tag.web-servers": "true",
    "gcp.network-tag.database-access": "true"
  }
}
JSON
)

curl -X PATCH "https://api.redpanda.com/v1/clusters/$CLUSTER_ID" \
   -H "Content-Type: application/json" \
   -H "Authorization: Bearer $AUTH_TOKEN" \
   -d "$cluster_patch_body"
----
+
To remove all labels and network tags, send an empty `cloud_provider_tags` object:
+
[,bash]
----
cluster_patch_body='{"cloud_provider_tags": {}}'

curl -X PATCH "https://api.redpanda.com/v1/clusters/$CLUSTER_ID" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $AUTH_TOKEN" \
  -d "$cluster_patch_body"
----